# План автоматизации тестирования

## Перечень автоматизируемых сценариев
### Тестирование UI
#### Happy path
1. Успешная покупка при оплате картой с валидным номером и достаточным количеством средств на счете
   - MySQL. Появляется сообщение "Операция одобрена банком"
   - Postgres. Появляется сообщение "Операция одобрена банком"
2. Отказ в покупке при оплате картой с валидным номером и недостаточным количеством средств на счете
   - MySQL. Появляется сообщение "Банк отказал в проведении операции"
   - Postgres. Появляется сообщение "Банк отказал в проведении операции"
3. Успешная покупка в кредит при оплате картой с валидным номером и достаточным кредитным лимитом
   - MySQL. Появляется сообщение "Операция одобрена банком"
   - Postgres. Появляется сообщение "Операция одобрена банком"
4. Отказ в покупке в кредит при оплате картой с валидным номером и недостаточным кредитным лимитом
   - MySQL. Появляется сообщение "Банк отказал в проведении операции"
   - Postgres. Появляется сообщение "Банк отказал в проведении операции"
#### Проверка полей ввода
1. Пустые поля
   - MySQL. Под каждым полем появится подпись "Поле обязательно для заполнения"
   - Postgres. Под каждым полем появится подпись "Поле обязательно для заполнения"
2. Поле номера карты
   - MySQL. Под пустым полем номера карты появится подпись "Поле обязательно для заполнения"
   - MySQL. При заполнении менее 16 цифр под полем номереа карты появится подпись "Неверный формат"
   - MySQL. При ввоже номера карты не из списка появится сообщение "Банк отказал в проведении операции"
   - Postgres. Под пустым полем номера карты появится подпись "Поле обязательно для заполнения"
   - Postgres. При заполнении менее 16 цифр под полем номереа карты появится подпись "Неверный формат"
   - Postgres. При ввоже номера карты не из списка появится сообщение "Банк отказал в проведении операции"
3. Поле месяца
   - MySQL. Под пустым полем месяца появится подпись "Поле обязательно для заполнения"
   - MySQL. При заполнении 1 цифры под полем месяца появится подпись "Неверный формат"
   - MySQL. При вводе месяца более 12 под полем появится подпись "Неверный формат"
   - MySQL. При вводе номера месяца ранвого 00 под полем появится подпись "Неверный формат"
   - Postgres. Под пустым полем месяца появится подпись "Поле обязательно для заполнения"
   - Postgres. При заполнении 1 цифры под полем появится подпись "Неверный формат"
   - Postgres. При вводе месяца более 12 под полем появится подпись "Неверный формат"
   - Postgres. При вводе номера месяца ранвого 00 под полем появится подпись "Неверный формат"
4. Поле года
   - MySQL. Под пустым полем года появится подпись "Поле обязательно для заполнения"
   - MySQL. При заполнении 1 цифры под полем год появится подпись "Неверный формат"
   - MySQL. При вводе года ранее текущего под полем появится подпись "Истёк срок действия карты"
   - MySQL. При вводе в поле года 00 под полем появится подпись "Истёк срок действия карты"
   - MySQL. При вводе года, превышающего текущий более 10 лет, под полем появится подпись "Неверно указан срок действия карты"
   - Postgres. Под пустым полем года появится подпись "Поле обязательно для заполнения"
   - Postgres. При заполнении 1 цифры под полем год появится подпись "Неверный формат"
   - Postgres. При вводе года ранее текущего под полем появится подпись "Истёк срок действия карты"
   - Postgres. При вводе в поле года 00 под полем появится подпись "Истёк срок действия карты"
   - Postgres. При вводе года, превышающего текущий более 10 лет, под полем появится подпись "Неверно указан срок действия карты"
5. Поле владельца
   - MySQL. Под пустым полем владельца появится подпись "Поле обязательно для заполнения"
   - MySQL. При заполнении одного слова в поле владельца под полем появится подпись "Неверный формат"
   - MySQL. При заполнении треёх слов в поле владельца под полем появится подпись "Неверный формат"
   - MySQL. При заполнении поля владельца русскими буквами под полем появится подпись "Неверный формат"
   - MySQL. При вводе цифры в поле владельца под полем появится подпись "Неверный формат"
   - MySQL. При вводе специального символа в поле владельца под полем появится подпись "Неверный формат"
   - Postgres. Под пустым полем владельца появится подпись "Поле обязательно для заполнения"
   - Postgres. При заполнении одного слова в поле владельца под полем появится подпись "Неверный формат"
   - Postgres. При заполнении треёх слов в поле владельца под полем появится подпись "Неверный формат"
   - Postgres. При заполнении поля владельца русскими буквами под полем появится подпись "Неверный формат"
   - Postgres. При вводе цифры в поле владельца под полем появится подпись "Неверный формат"
   - Postgres. При вводе специального символа в поле владельца под полем появится подпись "Неверный формат"
6. Поле CVC/CVV
   - MySQL. Под пустым полем CVC/CVV появитфся подпись "Поле обязательно для заполнения"
   - MySQL. При заполнении 1 цифры в поле CVC/CVV под полем появится подпись "Неверный формат"
   - MySQL. При заполнении 2 цифр в поле CVC/CVV под полем появится подпись "Неверный формат"
   - MySQL. При вводе 000 в поле CVC/CVV под полем появится подпись "Неверный формат"
   - Postgres. Под пустым полем CVC/CVV появитфся подпись "Поле обязательно для заполнения"
   - Postgres. При заполнении 1 цифры в поле CVC/CVV под полем появится подпись "Неверный формат"
   - Postgres. При заполнении 2 цифр в поле CVC/CVV под полем появится подпись "Неверный формат"
   - Postgres. При вводе 000 в поле CVC/CVV под полем появится подпись "Неверный формат"
### Тестирование API
1. Оплата по карте APPROVED
   - MySQL. Получение ответа "APPROVED"
   - Postgres. Получение ответа "APPROVED"
2. Оплата по карте DECLINED
   - MySQL. Получение ответа "DECLINED"
   - Postgres. Получение ответа "DECLINED"
3. Отправка заявки на кредит по карте APPROVED
   - MySQL. Получение ответа "APPROVED"
   - Postgres. Получение ответа "APPROVED"
4. Отправка заявки на кредит по карте DECLINED
   - MySQL. Получение ответа "DECLINED"
   - Postgres. Получение ответа "DECLINED"
## Перечень используемых инструментов
1. IntelliJ IDEA. 
Мультиязычная среда разработки программного обеспечения. Включает в себя все основные инструменты для разработки автотестов.
2. Java 11. 
Один из наиболее используемых языков программирования. Подходит для создания автотестов.
3. Git. 
Распределенная система управления версиями. Поддержание автотестов в актуальном состоянии.
4. Gradle. 
Система автоматической сборки. Позволяет эффективно управлять зависимостями.
5. JUnit5. 
Фреймворк для модульного тестирования программного обеспечения на языке Java. Фреймворк позволяет автоматизировать тесты на языке Java
6. Selenide. 
Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Автоматизирует UI тесты.
7. Faker. 
Плагин для генерации случайных данных для тестов. Достаточное количество настроек, локализован для России.
8. Lombok.  
Плагин Java для сокращения объема стандартного кода в классах
9. Docker. 
Программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации. Разворачивание среды для тестирования.
10. Allure Report. 
Фреймворк для создания отчетов автотестов. Позволяет сократить жизненный цикл дефекта.

## Перечень и описание возможных рисков при автоматизации

* Падение тестов из-за недоступности сервера
* Сложность управления SUT (установка начального состояния, перезапуск в нужной конфигурации)
* Зависимость тестов от текущего SUT или его версии (недоступность CSS-селекторов)
* Некорректные данные Faker (ложные падения тестов)
* Раздельное обращение к разным БД (MySQL, PostgreSQL)

## Интервальная оценка с учётом рисков

* Изучение документации - 4 часа
* Разработка плана тестирования - 8 часов
* Натсройка тестового окружения - 4 часа
* Разработка и отладка автотестов - 60 часов
* Подготовка отчетной документации - 16 часов

## План сдачи работ

* Автотесты - 8 рабочих дней после утверждения плана тестирования
* Результат прогона автотестов - 3 рабочких дня
* Отчет по автоматизации - 3 рабочих дня